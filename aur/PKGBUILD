# Maintainer: mazix {mazix@bk.ru}

pkgname=perplexity
pkgver=1.1.3
pkgrel=1
pkgdesc="Native Perplexity AI client for Linux (Electron wrapper)"
arch=('x86_64')
url="https://www.perplexity.ai/"
license=('custom:Perplexity AI, Inc.')
depends=('electron')
source=("app-src.tar.gz"
        "launcher.sh"
        "perplexity.desktop"
        "perplexity.png")
sha256sums=('SKIP' 'SKIP' 'SKIP' 'SKIP')

prepare() {
  mkdir -p "$srcdir/app-src"
  tar -xzf "$srcdir/app-src.tar.gz" -C "$srcdir/app-src"
}

package() {
  install -d "$pkgdir/usr/lib/perplexity"
  cp -r "$srcdir/app-src"/* "$pkgdir/usr/lib/perplexity/"
  install -Dm755 "$srcdir/launcher.sh" "$pkgdir/usr/bin/perplexity"
  install -Dm644 "$srcdir/perplexity.desktop" "$pkgdir/usr/share/applications/perplexity.desktop"
  install -Dm644 "$srcdir/perplexity.png" "$pkgdir/usr/share/icons/hicolor/512x512/apps/perplexity.png"
} 